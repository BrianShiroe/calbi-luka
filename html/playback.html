<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
        <link rel="stylesheet" href="../css/font.css">
        <link rel="stylesheet" href="../css/sidebar.css">
        <link rel="stylesheet" href="../css/playback.css">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <title>Playback | Luka</title>
        <link rel="icon" type="image/x-icon" href="../img/logo-no-name.png">
        <script>
            fetch('/auth/check')
                .then(response => response.json())
                .then(data => {
                    if (!data.logged_in) {
                        window.location.href = 'login.html';
                    }
                })
                .catch(error => console.error('Error checking authentication:', error));
        </script>
    </head>

<body>
    <script>
    let isSidebarClosed = localStorage.getItem("sidebarClosed") === "true";
    if (isSidebarClosed) {
        document.body.classList.add("sidebar-closed");
    }
    </script>       
    <div class="sidebar" id="sidebar-container">
        <div class="logo-details"></div>
        <ul class="nav-list">
            <li><a href="../html/home.html" class="home-sb"><i class='bx bx-grid-alt'></i><span class='links_name'>Home</span></a></li>
            <li><a href="../html/analytics.html"><i class='bx bx-pie-chart-alt-2'></i><span class="links_name">Analytics</span></a></li>
            <li><a href="../html/playback.html" class="files-sb"><i class='bx bx-folder' style="color: #fff !important;"></i><span class="links_name" style="color: #fff !important;">Playback</span></a></li>
            <li><a href="../html/settings.html"><i class='bx bx-cog'></i><span class="links_name">Settings</span></a></li>
            <li><a href="../html/about.html"><i class='bx bx-info-circle'></i><span class="links_name">About</span></a></li>
            <li><a class="logout" onclick="logoutUser()"><i class='bx bx-log-out' id="log_out"></i><span class="links_name">Logout</span></a></li>
        </ul>
    </div>    

    <div class="content">
        <div class="header">
            <a href="../html/home.html"><img src="../img/logo-no-name.png" alt="logoImg"></a>
        </div>
        <div class="header-title">
            <h2>Stored Videos</h2>
        </div>

        <div class="video-container">
            <div class="video-card">
                <video src="../videos/sample1.mp4" controls></video>
                <div class="video-info">
                    <h3 class="title">CAM1 - 03/28/2025</h3>
                    <p class="location">Location: north-west</p>
                </div>
            </div>
        
            <div class="video-card">
                <video src="../videos/sample2.mp4" controls></video>
                <div class="video-info">
                    <h3 class="title">Fire Incident - 03/27/2025</h3>
                    <p class="location">Location: north-west</p>
                </div>
            </div>
        
            <div class="video-card">
                <video src="../videos/sample3.mp4" controls></video>
                <div class="video-info">
                    <h3 class="title">CamID - 03/26/2025</h3>
                    <p class="location">Location: north-west</p>
                </div>
            </div>
        </div>
    </div>
    
    <script src="../js/authenticate.js"></script>
    <script src="../js/sidebar.js"></script>
    <script src="../js/playback.js"></script>
</body>
</html>
